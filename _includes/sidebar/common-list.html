{%- if include.keys -%}
  {%- assign keys = include.keys -%}
{%- endif -%}

{%- if include.field -%}
  {%- assign field = include.field -%}
{%- endif -%}

{%- assign posts = site.posts -%}
{%- if include.collection -%}
  {%- assign posts = include.collection -%}
{%- endif -%}

<div class="common-list">
  <ul>
    <li>
      <a href="{{ '/index.html' | relative_url }}">
        All<span>{{ posts.size }}</span>
      </a>
    </li>

    {% for key in  keys %}
      {% if include.exclude_keys and include.exclude_keys contains key %}
        {% continue %}
      {% endif %}
      <li>
        <a href="{{ url }}#h-{{ key }}">
        {% assign count = posts | where: field, key | size %}
        {% if count > 0 %}
          {{ key }} <span>{{ count }}</span>
        {% endif %}
        </a>
      </li>
    {% endfor %}
  </ul>
</div>
